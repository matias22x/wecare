<main>
  <div class="container center cuadro02 paddtop">
    <div class="col s12">
      <div class="card carta">
        <div class="card-content">

          <div class="contenidoBordeGris">


            <div class="row spaciado">
              <div class="col s12 m12 l12">
                <div class="card">
                  <div class="card-content">
                    <span class="card-title">Próxima sesión</span>
                    <div ng-if="turnos" class="row">
                      <div class="col s4 m4 l4">
                        <h5 class="titulosAparte center contenidoUsuario">Especialista</h5>
                        <span>{{turnos.nombreEspecialista}}</span>
                      </div>
                      <div class="col s4 m4 l4">
                        <h5 class="titulosAparte center contenidoUsuario">Fecha</h5>
                        <span>{{turnos.horario | date: "EEEE d 'de' LLLL"}}</span>
                      </div>
                      <div class="col s4 m4 l4">
                        <h5 class="titulosAparte center contenidoUsuario">Hora</h5>
                        <span>{{turnos.horario | date: "H:mm"}}</span>
                      </div>
                    </div>
                    <div ng-if="!turnos" class="row">
                      <span>No tenes un turno asignado.</span>
                    </div>
                  </div>

                </div>
              </div>
            </div>




            <div class="row cuadro01 cuadro02">
              <div class="col s12 l3 m3">
                <table class="centered tablaIzq tablaGeneral  cardd">
                  <thead>
                    <tr class="fondo">
                      <th>HISTORIAL DE REGISTROS</th>
                    </tr>
                    <tr>
                      <td class="buscador">
                        <input id="buscadorDesde" type="text" class="datepicker validate buscadorFechas placeholderclass" ng-model="tiempo.buscadorDesde" placeholder="">
                        <label for="buscadorDesde" class="textBlack">Fecha desde</label>
                        <br>
                        <input id="buscadorHasta" type="text" class="datepicker validate buscadorFechas placeholderclass" ng-model="tiempo.buscadorHasta" placeholder="">
                        <label for="buscadorHasta" class="textBlack">Fecha hasta</label>
                        <br>
                        <div class="center-align">
                          <a class="btn botonGeneralBis b02 butonComp" ng-click="filtrarFecha(tiempo.buscadorDesde, tiempo.buscadorHasta)">Buscar</a>
                        </div>
                      </td>
                    </tr>
                  </thead>
                  <tbody ng-if="registros" >
                    <tr ng-repeat="registro in page">
                      <td class="resgitro00" ng-click="verRegistro(registro)">{{registro.createdAt | date: "EEEE d 'de' LLLL" }}</td>
                    </tr>
                    <tr>
                      <td>
                        <ul class="pagination">
                          <li class="waves-effect"><a ng-click='antPag(registros);'><i class="material-icons">chevron_left</i></a></li>
                          <li ng-repeat="i in getNumber(number) track by $index" class="waves-effect"> <a ng-click='cambiarPag($index, registros);'>{{$index+1}}</a></li>
                          <li class="waves-effect"><a ng-click='sigPag(registros);'><i class="material-icons">chevron_right</i></a></li>
                        </ul>
                      </td>
                    </tr>
                  </tbody>
                  <tbody ng-if="!registros">
                    <tr>
                      <td class="resgitro00">No se encontraron registros.</td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <div ng-if="!registroSeleccionado" class="small01" >

               <div class="col s12 l9 m9 esp">
                <div class="col s12 l12 m12  sp">
                        <div class="speech-bubble">
                          ¡Hola! en esta sección podras ver tu <span class="negrita">próximo turno</span> y además podras consultar tu historial para ver como va tu avance.
                          </div>
                        </div>
              <div class="col s12 l12 m12  center">
                <div class="mdl-tabs__panel imagenBot" id="botchat">


                        <img class="responsive-img" src="img/bot-2.gif" />
                        </div>
                        </div>


                   </div>
                  </div>


              <div ng-if="registroSeleccionado" class="col s12 l9 m9">
                <table class="centered tablaGeneral">
                  <thead>
                    <tr class="fondo">
                      <th>DETALLE DE ESTADOS</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="detalles">
                      <td>
                        <div class="row estadoResumen">
                          <div class="col s12 iconos">
                            <span class="textUp">Estado de ánimo: &nbsp</span>
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Neutral" ng-if="registroSeleccionado.animo.neutral" src="img/confused.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Enojado" ng-if="registroSeleccionado.animo.enojado" src="img/angry.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Contento" ng-if="registroSeleccionado.animo.contento" src="img/happy.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Triste" ng-if="registroSeleccionado.animo.triste" src="img/sad.png" />
                            </br>
                            </br>
                          </div>
                          <div ng-if="registroSeleccionado.actividades.deporte || registroSeleccionado.actividades.descanso || registroSeleccionado.actividades.juego || registroSeleccionado.actividades.estudio || registroSeleccionado.actividades.fiesta || registroSeleccionado.actividades.salida || registroSeleccionado.actividades.nada"
                            class="col s12 iconos">
                            <span class="textUp">Actividades: &nbsp</span>
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Haciendo deporte" ng-if="registroSeleccionado.actividades.deporte" src="img/gimnasio.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Descansando" ng-if="registroSeleccionado.actividades.descanso" src="img/dormir.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Jugando" ng-if="registroSeleccionado.actividades.juego" src="img/juego.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Estudiando" ng-if="registroSeleccionado.actividades.estudio" src="img/libro.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="De Fiesta" ng-if="registroSeleccionado.actividades.fiesta" src="img/fiesta.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="De salida" ng-if="registroSeleccionado.actividades.salida" src="img/bosque.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Nada" ng-if="registroSeleccionado.actividades.nada" src="img/nada.png" />
                            </br>
                            </br>
                          </div>
                          <div ng-if="!registroSeleccionado.actividades.deporte && !registroSeleccionado.actividades.descanso && !registroSeleccionado.actividades.juego && !registroSeleccionado.actividades.estudio && !registroSeleccionado.actividades.fiesta && !registroSeleccionado.actividades.salida && !registroSeleccionado.actividades.nada"
                            class="col s12 iconos">
                            <span class="textUp">Actividades: </span> <span class="redtext">No se registraron actividades.</span>
                            </br>
                            </br>
                          </div>
                          <div ng-if="registroSeleccionado.lugares.casa || registroSeleccionado.lugares.escuela || registroSeleccionado.lugares.plaza || registroSeleccionado.lugares.gimnasio || registroSeleccionado.lugares.casa_amigo" class="col s12 iconos">
                            <span class="textUp">Lugares: &nbsp</span>
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En casa" ng-if="registroSeleccionado.lugares.casa" src="img/casa.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En la escuela" ng-if="registroSeleccionado.lugares.escuela" src="img/colegio.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En la plaza" ng-if="registroSeleccionado.lugares.plaza" src="img/urbano.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En el gimnasio" ng-if="registroSeleccionado.lugares.gimnasio" src="img/gim.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En lo de un amigo" ng-if="registroSeleccionado.lugares.casa_amigo" src="img/casaamigo.png" />
                            </br>
                            </br>
                          </div>
                          <div ng-if="!registroSeleccionado.lugares.casa && !registroSeleccionado.lugares.escuela && !registroSeleccionado.lugares.plaza && !registroSeleccionado.lugares.gimnasio && !registroSeleccionado.lugares.casa_amigo" class="col s12 iconos">
                            <span class="textUp">Lugares: </span> <span class="redtext">No se registraron lugares.</span>
                            </br>
                            </br>
                          </div>
                          <div ng-if="registroSeleccionado.social.solo || registroSeleccionado.social.familia || registroSeleccionado.social.pareja || registroSeleccionado.social.amigos" class="col s12 iconos">
                            <span class="textUp">Con quién estuvo: &nbsp</span>
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Solo" ng-if="registroSeleccionado.social.solo" src="img/chico.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En familia" ng-if="registroSeleccionado.social.familia" src="img/familia.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="En pareja" ng-if="registroSeleccionado.social.pareja" src="img/pareja.png" />
                            <img tooltipped data-position="bottom" data-delay="50" data-tooltip="Con amigos" ng-if="registroSeleccionado.social.amigos" src="img/amigos.png" />
                            </br>
                            </br>
                          </div>
                          <div ng-if="!registroSeleccionado.social.solo && !registroSeleccionado.social.familia && !registroSeleccionado.social.pareja && !registroSeleccionado.social.amigos" class="col s12 iconos">
                            <span class="textUp">Con quién estuvo: </span> <span class="redtext">No se registró con quién estuvo.</span>
                            </br>
                            </br>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col s12 textoPersonal">
                            <span class="textUp">Texto personal: </span>
                            <br>
                            <span ng-if="registroSeleccionado.cuentanosmas" class="materialize-textarea textoPersonal">
                              {{registroSeleccionado.cuentanosmas}}
                            </span>
                            <span ng-if="!registroSeleccionado.cuentanosmas" class="materialize-textarea textoPersonal redtext">
                              No hay registro.
                            </span>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
              </div>

          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    $(function() {
      $('.datepicker').pickadate({
        monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
        monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
        weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
        weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'],
        selectMonths: true,
        selectYears: 100, // Puedes cambiarlo para mostrar más o menos años
        today: 'Hoy',
        clear: 'Limpiar',
        close: 'Ok',
        labelMonthNext: 'Siguiente mes',
        labelMonthPrev: 'Mes anterior',
        labelMonthSelect: 'Selecciona un mes',
        labelYearSelect: 'Selecciona un año',
      });
    });
  </script>

  <script>
    $(function() {
      $('.datepicker').pickadate({
        monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
        monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
        weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
        weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'],
        selectMonths: true,
        selectYears: 100, // Puedes cambiarlo para mostrar más o menos años
        today: 'Hoy',
        clear: 'Limpiar',
        close: 'Ok',
        labelMonthNext: 'Siguiente mes',
        labelMonthPrev: 'Mes anterior',
        labelMonthSelect: 'Selecciona un mes',
        labelYearSelect: 'Selecciona un año',
      });
    });


    /*$(document).ready(function() {
      const input = $('#lunchtime');
      // initialize timepicker
      input.pickatime();
      // get picker
      const picker = input.pickatime('picker');
      // set initial value using arrays formatted as [HOUR,MINUTE].
      picker.set('select', [3, 0]); // <-- picker.set is not a function
    });*/
  </script>
</main>
