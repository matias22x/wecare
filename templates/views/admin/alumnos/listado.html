<main>
  <div class="section"></div>
  <div class="container">
    <div class="col s12">
      <div class="card">
        <div class="card-content">
          <div class="section">
            <a class="waves-effect waves-light btn btn-small botonAgregar" ui-sref="admin_agregar_alumno"><i class="material-icons left">add</i>Agregar alumno</a>
          </div>
          <div class="row">
            <div class="input-field col s5">
              <input id="buscador" type="text" class="validate" ng-model="name" ng-change="filtrar(name)">
              <label for="buscador">Buscar: escriba el nombre, dni o curso del alumno</label>
            </div>
          </div>
          <table class="highlight centered">
            <thead>
              <tr class="fondo">
                <th>DNI</th>
                <th>NOMBRE</th>
                <th>CURSO</th>
                <th>DIRECCION</th>
                <th>FECHA DE NACIMIENTO</th>
                <th>ACCIONES</th>
              </tr>
            </thead>

            <tbody>
              <tr ng-repeat="alumno in page">
                <td>{{alumno.dni}}</td>
                <td>{{alumno.nombre}}</td>
                <td>{{alumno.curso}}</td>
                <td>{{alumno.direccion}}</td>
                <td>{{alumno.fecha_nacimiento | date:'dd-MM-yyyy'}}</td>
                <td>
                  <a class="waves-effect waves-light btn-small btn-floating botonVer" ui-sref="admin_ver_alumno({id: alumno._id})"><i class="material-icons">visibility</i></a>
                  <a class="waves-effect waves-light btn-small btn-floating botonEdit" ui-sref="admin_editar_alumno({id: alumno._id})"><i class="material-icons">edit</i></a>
                  <a class="waves-effect waves-light btn-small btn-floating botonClear " ui-sref="admin_borrar_alumno({id: alumno._id})"><i class="material-icons">clear</i></a>


                  <!-- Modal Structure -->
                  <div id="modal{{alumno.indexKey}}" class="modal modal-fixed-footer fade" role="dialog">
                    <div class="modal-content">
                      <h5>¿Está seguro que lo desea eliminar?</h5>
                      <p>{{alumno.dni}}</p>
                      <p>{{alumno.nombre}}</p>
                      <p>{{alumno.curso}}</p>
                      <p>{{alumno.direccion}}</p>
                      <p>{{alumno.fecha_nacimiento}}</p>
                    </div>
                    <div class="modal-footer">
                      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Aceptar</a>
                      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cancelar</a>
                    </div>
                  </div>

                </td>
              </tr>

            </tbody>
          </table>
          <ul class="pagination">
            <li class="waves-effect"><a ng-click='antPag(listadoAlumnos);'><i class="material-icons">chevron_left</i></a></li>
            <li ng-repeat="i in getNumber(number) track by $index" class="waves-effect"> <a ng-click='cambiarPag($index, listadoAlumnos);'>{{$index+1}}</a></li>
            <li class="waves-effect"><a ng-click='sigPag(listadoAlumnos);'><i class="material-icons">chevron_right</i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</main>
